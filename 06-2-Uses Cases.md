# 06-2-Use Cases

> 因为用例比较多，所以这里就只选取其中几个来说明

### 详述用例

#### Use Case 1：发布调查任务

**范围：**挣闲钱平台。

**级别：**用户目标。

**主要参与者：**奶牛（也就是发布调查任务的机构）。

**涉众及关注点：**奶牛希望任务信息和问卷信息的编辑页面简洁易用；同时希望页面有一定的检错功能，在奶牛输入的信息不合法时给奶牛提示错误信息。

**前置条件：**发布调查任务的用户的身份必须是奶牛，该用户必须已经被激活（即成功验证了绑定邮箱），且奶牛的闲钱币必须足够多（不小于调查任务的调查人数和调查任务的报酬的乘积）。

**后置条件（成功保证）：**奶牛必须正确填写任务和问卷的相关信息。

**主成功场景（基本流程）：**

1. 奶牛点击“发布任务”链接进入任务的编辑页面；
2. 奶牛在任务的编辑页面把任务类型从“普通任务”改成“调查任务”；
3. 奶牛填写调查任务的信息后点击提交按钮，任务发布成功，但该任务不能还被接收，因为没有问卷；
4. 调查任务还需要有配套的问卷，因此点击提交按钮后进入问卷的编辑页面；
5. 奶牛在问卷的编辑页面填写想要调查的问题的信息，可通过添加/删除按钮来添加/删除某个问题；
6. 奶牛填写问卷信息后点击提交按钮，该问卷将绑定到刚刚发布的任务上；
7. 调查任务有了问卷后才可以被接收，至此调查任务成功发布。

**扩展（替代流程）：**

- 奶牛在编辑任务信息时关闭了编辑页面：
  - 这种情况相当于奶牛放弃发布任务，因此无需采取任何措施。
- 奶牛在编辑问卷信息时关闭了编辑页面：
  - 这种情况下调查任务的信息已存到数据库中，但该任务还没有配套的问卷；
  - 因此该任务的数据库表中的is_available字段应该设置为0，不允许该任务被接收；
  - 奶牛可以在“我发布的任务”页面找到这个未编辑完成的调查任务，点击修改按钮进行修改；
  - 奶牛通过修改任务信息的方式来给调查任务添加问卷，使该任务可以被接收。
- 奶牛在填写任务/文件信息时输入非法字符或格式不正确：
  - 这种情况下，奶牛点击提交按钮时页面将弹出对话框提示错误信息，让奶牛改正。

**特殊需求：**无。

**技术与数据变元表：**无。

**发生频率：**可能会不断发生。

**未决问题：**无。

### 简述用例

#### Use Case 2.1：注册账户

**Actor：**用户。

**Type：**Primary。

**Description：**用户点击注册按钮，在注册页面填写注册信息后点击提交按钮，然后点击邮箱中的验证邮件中的验证链接完成邮箱验证操作。

#### Use Case 2.2：确认完成普通任务

**Actor：**用户（普通任务的发布者）。

**Type：**Primary。

**Description：**发布者在确认他发布的普通任务已经被接收者完成后，来到“我发布的任务”页面，点击对应的任务的确认按钮，之后会自动进行闲钱币的转账操作，该任务的状态变成“已完成”。

#### Use Case 2.3：确认完成调查任务

**Actor：**用户（调查任务的接收者）。

**Type：**Primary。

**Description：**接收者在“我接收的任务”页面找到要完成的调查任务，点击前往按钮，来到问卷的回答页面。回答完成后点击提交按钮，之后该用户的回答结果将被统计到数据库中，同时自动进行闲钱币的转账操作，该任务的状态变成“已完成”（对接收者来说已完成，但对发布者来说，该任务状态仍然为“进行中”）。